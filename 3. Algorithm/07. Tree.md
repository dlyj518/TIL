# 6. Tree

## 목차

1. 트리

2. 이진 트리

3. 이진탐색 트리

4. 힙

## 1. 트리

- 트리의 개념
  
  - 비선형 구조
  
  - 원소들 간 1 : n 구조
  
  - 계층형 자료구조
  
  - 상위>하위로 확장되어가는 개념

- 용어
  
  - 노드(node) : 정점, 트리의 원소
  
  - 간선(edge) : 노드를 연결하는 선
  
  - 루트(root) : 최상위 노드
  
  - subtree : 트리의 세부 트리, 이들 각각도 트리
  
  - 형제 노드(sibling node) : 같은 부모 노드의 자식 노드들
  
  - 조상 노드 : 루트노드까지의 모든 노드들
  
  - 자손 노드 : subtree에 있는 하위레벨 노드들
  
  - 차수 : 노드에 연결된 자식 노드의 수
  
  - 트리의 차수 : 트리에 있는 노드의 차수 중 최댓값
  
  - 단말 노드 : 자식 노드가 없는 노드
  
  - 높이 : 루트-노드 간의 간선 수
  
  - 트리의 높이 : 최댓값

## 2. 이진트리

- 정의
  
  - 모든 노드들이 2개의 서브트리를 갖는 형태
  
  - 각 노드가 최대 2개까지만 가질 수 있음
  
  - 높이가 h인 이진트리가 가질 수 있는 최소 노드 수는 h+1, 최대는 $2^{h+1}-1$
  
  - 포화 이진 트리(Full Binary Tree) : 모든 레벨에 포화상태로 차 있는 이진트리
  
  - 완전 이진 트리(Complete Binary Tree) : 포화 이진트리의 1~n까지 빈자리가 없는 이진 트리
  
  - 편향 이진 트리(Skewed Binary Tree) : 한 쪽 방향의 자식노드만 가진 트리

- 순회 : 각 노드를 중복되지 않게 하는 것
  
  - 전위순회(preorder traversal) : VLR / 부모>좌>우
    
    ex) 1 2 4 5 3 6 7
    
    ```python
    def preorder_traverse(T):
        if T:
            visit(T)
            preorder_traverse(T.left)
            preorder_traverse(T.right)
    ```
  
  - 중위순회(inorder traversal) : LVR / 좌>부모>우
    
    ex) 4 2 5 1 6 3 7
    
    ```python
    def inorder_traverse(T):
        if T:
            inorder_traverse(T.left)
            visit(T)
            inorder_traverse(T.right)
    ```
  
  - 후위순회(postorder traversal) : LRV / 좌>우>부모
    
    ex) 4 5 2 6 7 3 1
    
    ```python
    def postorder_traverse(T):
        if T:
            postorder_traverse(T.left)
            postorder_traverse(T.right)
            visit(T)
    ```

- 이진트리의 표현
  
  - 배열
    
    - 1~$2^{h+1}+1$의 번호를 포화이진트리로 준 후 위치
    
    - 부모 노드 : i // 2
    
    - 자식 노드 : 2\*i, 2\*i+1
    
    - 레벨 n 시작 노드 번호 : $2^n$
    
    - 부모를 인덱스로, 자식을 리스트로 저장
    
    - 자식을 인덱스로, 부모를 리스트로 저장
    
    - 배열의 단점 : 메모리 공간 낭비, 새로운 노드 삽입/제거 시 크기 변경 어려워 비효율적
  
  - 연결리스트
    
    - ex) [[[null, D, null], B, [null, E, null]], A, [null, C, null]]

- 수식 트리
  
  - 수식을 나타내는 이진트리
  
  - 연산자는 루트 노드/가지노드
  
  - 피연산자는 잎 노드
  
  - 중위순회 : 중위표기법/후위 순회 : 후위표기법 / 전위순회 : 전위표기법

## 3. 이진 탐색 트리

- 정의
  
  - 탐색작업을 효율적으로 하기 위한 자료구조
  
  - 모든 원소는 서로 다른 고유값
  
  - 왼쪽서브<루트<우측서브
  
  - 중위순회하면 오름차순 정렬

- 연산
  
  - 탐색 연산
    
    - 루트에서부터 키값과 노드값 비교
    
    - 같으면 찾았으므로 연산 성공
    
    - 키값이 작으면 좌측, 크면 우측 서브트리에서 반복 수행
  
  - 삽입 연산
    
    - 삽입 연산 후 탐색실패한 위 치에 원소 삽입

- 성능
  
  - 탐색/삽입/삭제는 O(h) (h: 깊이)
  
  - 평균 O(log n) (균형적), 최악 O(n) (경사 이진트리, 순차탐색과 같음)
  
  - 비교
    
    | 종류          | O()      | 비고               |
    | ----------- | -------- | ---------------- |
    | 배열 순차 검색    | O(N)     |                  |
    | 정렬 배열 순차 검색 | O(N)     |                  |
    | 정렬 배열 이진 탐색 | O(log N) | 삽입/삭제 시 추가 연산 필요 |
    | 이진 탐색 트리 평균 | O(log N) | 최악 O(N)          |
    | 해쉬 검색       | O(1)     | 추가 저장 공간 필요      |

## 4. 힙(heap)

- 완전 이진 트리에서 키값이 가장 크거나 작은 노드를 찾기 위해 만든 자료구조

- 최대 힙
  
  - 키값 가장 큰 노드 찾기 위한 완전 이진트리, 루트 노드
  
  - 부모노드>자식노드 // 최대값 : 루트 노드

- 최소 힙
  
  - 최대 힙 반대, 최소값 : 루트 노드

- 삽입
  
  - 자리 확장 > 원소 저장 > 부모노드랑 비교 후 자리 바꾸기

- 삭제
  
  - 힙에서는 루트 노드만 삭제 가능
  
  - 삭제 > 마지막 노드 삭제 > 자식노드와 자리 바꾸기
